{"version":3,"sources":["../src/index.js"],"names":["through","require","html2pug","vinylToString","PluginError","nodeify","PLUGIN_NAME","convert","file","pug","Object","assign","contents","isBuffer","Buffer","from","isStream","end","extname","transform","options","enc","then","html","module","exports","obj"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,UAAD,CAAvB;;AACA,MAAMC,QAAQ,GAAGD,OAAO,CAAC,UAAD,CAAxB;;AACA,MAAME,aAAa,GAAGF,OAAO,CAAC,yBAAD,CAA7B;;AACA,MAAMG,WAAW,GAAGH,OAAO,CAAC,cAAD,CAA3B;;AACA,MAAM;AAAEI,EAAAA;AAAF,IAAcJ,OAAO,CAAC,iBAAD,CAA3B;;AAEA,MAAMK,WAAW,GAAG,eAApB;;AAEA,MAAMC,OAAO,GAAIC,IAAD,IAAWC,GAAD,IAASC,MAAM,CAACC,MAAP,CAAcH,IAAd,EAAoB;AACrDI,EAAAA,QAAQ,EAAEJ,IAAI,CAACK,QAAL,KACNC,MAAM,CAACC,IAAP,CAAYN,GAAZ,CADM,GAEND,IAAI,CAACQ,QAAL,KACEhB,OAAO,GAAGiB,GAAV,CAAcR,GAAd,CADF;AAAA;AAAA,IAEQ,IAAIL,WAAJ,CAAgBE,WAAhB,EAA6B,cAA7B,CAFR,CAHiD;AAMrDY,EAAAA,OAAO,EAAE;AAN4C,CAApB,CAAnC;;AASA,MAAMC,SAAS,GAAIC,OAAD,IAAaf,OAAO,CACpC,CAACG,IAAD,EAAOa,GAAP,KAAelB,aAAa,CAACK,IAAD,EAAOa,GAAP,CAAb,CACZC,IADY,CACNC,IAAD,IAAUrB,QAAQ,CAACqB,IAAD,EAAOH,OAAP,CADX,EAEZE,IAFY,CAEPf,OAAO,CAACC,IAAD,CAFA,CADqB,CAAtC;;AAMAgB,MAAM,CAACC,OAAP,GAAiB,CAACL,OAAO,GAAG,EAAX,KAAkBpB,OAAO,CAAC0B,GAAR,CAAYP,SAAS,CAACC,OAAD,CAArB,CAAnC","sourcesContent":["const through = require('through2');\nconst html2pug = require('html2pug');\nconst vinylToString = require('vinyl-contents-tostring');\nconst PluginError = require('plugin-error');\nconst { nodeify } = require('promise-toolbox');\n\nconst PLUGIN_NAME = 'gulp-html2pug';\n\nconst convert = (file) => (pug) => Object.assign(file, {\n  contents: file.isBuffer()\n    ? Buffer.from(pug)\n    : file.isStream()\n      ? through().end(pug)\n      : throw new PluginError(PLUGIN_NAME, 'Invalid file'),\n  extname: '.pug',\n});\n\nconst transform = (options) => nodeify(\n  (file, enc) => vinylToString(file, enc)\n    .then((html) => html2pug(html, options))\n    .then(convert(file)),\n);\n\nmodule.exports = (options = {}) => through.obj(transform(options));\n"],"file":"index.js"}